<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pm="http://primefaces.org/mobile"
        xmlns:p="http://primefaces.org/ui"
        contentType="text/html"
        renderKitId="PRIMEFACES_MOBILE">

    <pm:page title="My application store">

        <pm:view id="resetpassword">
            
        <f:metadata>  
            <f:viewParam name="guid" value="#{resetPasswordRequestVC.guid}"/> 	
            <f:viewParam name="action" value="#{resetPasswordRequestVC.action}"/>                
            <f:event type="preRenderView" listener="#{resetPasswordRequestVC.validateRequest}"></f:event>  
        </f:metadata> 

            
            <pm:header title="Reset password">
                <f:facet name="left">
                    <p:button value="Back" icon="back" href="/"/>
                </f:facet>                
            </pm:header>

            <pm:content>
                <h:outputText value="Reset password for #{resetPasswordRequestVC.userProfile.firstName} #{resetPasswordRequestVC.userProfile.lastName}" />
                
                <h:form id="mobileResetPasswordForm" rendered="#{resetPasswordRequestVC.validate}">
                    <p:inputText label="Password:" type="password" 
                                 value="#{resetPasswordRequestVC.password1}"/>
                    <p:inputText label="Confirm:" type="password" 
                                 value="#{resetPasswordRequestVC.password2}"/>
                    <p:commandButton value="Cancel" type="button" icon="cancel" 
                                 action="#{resetPasswordRequestVC.cancelAction.execute}"/>                    
                    <p:commandButton value="Change password" type="button" icon="check" 
                                 action="#{resetPasswordRequestVC.resetAction.execute}"/>
                </h:form>                
            </pm:content>        
        </pm:view>

    </pm:page>

</f:view>